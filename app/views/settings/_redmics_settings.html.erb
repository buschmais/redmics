<%# redmics - redmine ics export plugin, Copyright (c) 2010-2021 Frank Schwarz, frank.schwarz@buschmais.com %>
<%
  event_options = ActiveSupport::OrderedHash.new
  event_options[l(:option_settings_rendering_none)] = :none
  event_options[l(:option_settings_rendering_vevent_full_span)] = :vevent_full_span
  event_options[l(:option_settings_rendering_vevent_end_date)] = :vevent_end_date
  event_options[l(:option_settings_rendering_vevent_start_and_end_date)] = :vevent_start_and_end_date
  event_options[l(:option_settings_rendering_vtodo)] = :vtodo
  event_options[l(:option_settings_rendering_mega_calendar)] = :mega_calendar if defined?(TicketTime) == 'constant' && TicketTime.class == Class

  version_options = ActiveSupport::OrderedHash.new
  version_options[l(:option_settings_rendering_none)] = :none
  version_options[l(:option_settings_rendering_vevent_full_span)] = :vevent_full_span
  version_options[l(:option_settings_rendering_vevent_end_date)] = :vevent_end_date
  version_options[l(:option_settings_rendering_vevent_start_and_end_date)] = :vevent_start_and_end_date
  version_options[l(:option_settings_rendering_vtodo)] = :vtodo

  summary_options = ActiveSupport::OrderedHash.new
  summary_options[l(:option_settings_enhance_summary_plain)] = :plain
  summary_options[l(:option_settings_enhance_summary_status)] = :status
  summary_options[l(:option_settings_enhance_summary_ticket_number_and_status)] = :ticket_number_and_status

  description_options = ActiveSupport::OrderedHash.new
  description_options[l(:option_settings_enhance_description_plain)] = :plain
  description_options[l(:option_settings_enhance_description_url_and_version)] = :url_and_version
  description_options[l(:option_settings_enhance_description_full_no_url)] = :full_no_url
  description_options[l(:option_settings_enhance_description_full)] = :full
%>
<h3><%= l(:label_settings_rendering_header) %></h3>
<p>
  <%= content_tag :label, l(:label_settings_rendering_issues) + ':' %>
  <%= select_tag 'settings[redmics_icsrender_issues]', options_for_select(event_options, @settings[:redmics_icsrender_issues].to_sym) %>
</p>
<p>
  <%= content_tag :label, l(:label_settings_rendering_versions) + ':' %>
  <%= select_tag 'settings[redmics_icsrender_versions]', options_for_select(version_options, @settings[:redmics_icsrender_versions].to_sym) %><br/>
</p>
<p>
  <%= content_tag :label, l(:label_settings_enhance_summary) + ':' %>
  <%= select_tag 'settings[redmics_icsrender_summary]', options_for_select(summary_options, @settings[:redmics_icsrender_summary].to_sym) %><br/>
</p>
<p>
  <%= content_tag :label, l(:label_settings_enhance_description) + ':' %>
  <%= select_tag 'settings[redmics_icsrender_description]', options_for_select(description_options, @settings[:redmics_icsrender_description].to_sym) %><br/>
</p>
<p>
  <%= content_tag :span, l(:text_settings_rendering_more_information) + ':' %>
  <%= content_tag :a, 'https://github.com/buschmais/redmics/wiki/Settings',
                  :href => 'https://github.com/buschmais/redmics/wiki/Settings', :target => '_blank' %>
</p>
